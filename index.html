<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Photosynthesis Sequencing</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header class="app-header">
      <h1>Photosynthesis Sequencing</h1>
      <p>Learn first with guided animation, then review by sequencing the cards.</p>
    </header>

    <nav class="view-nav" aria-label="Activity pages">
      <button id="showLearnBtn" class="view-btn active" type="button">1. Learn Animation</button>
      <button id="showReviewBtn" class="view-btn" type="button">2. Review Sequencing</button>
    </nav>

    <main class="main-wrap">
      <section id="learnView" class="panel page-view" aria-label="Learn animation page">
        <div class="view-head">
          <h2>Learn: Step-By-Step Animation</h2>
          <div class="phase-tabs" role="tablist" aria-label="Animation cycle">
            <button id="learnLightBtn" class="phase-tab active" type="button">Light-Dependent</button>
            <button id="learnCalvinBtn" class="phase-tab" type="button">Calvin Cycle</button>
          </div>
        </div>

        <p id="learnCaption" class="caption" role="status" aria-live="polite"></p>

        <div class="learn-actions">
          <button id="startResetBtn" type="button">Start</button>
          <button id="prevStepBtn" type="button">Previous Step</button>
          <button id="nextStepBtn" type="button">Next Step</button>
          <button id="replayStepBtn" type="button">Replay Current Step</button>
          <button id="playFullBtn" type="button">Play Full Cycle</button>
          <button id="goToReviewBtn" type="button">Go To Review</button>
        </div>

        <div class="animation-panel" aria-label="Animation panel">
          <div class="legend" aria-label="Animation key">
            <p class="legend-title">Key</p>
            <div class="legend-grid">
              <span class="legend-item"><span class="legend-swatch photon">✦</span> Photon (light energy)</span>
              <span class="legend-item"><span class="legend-swatch photosystem"></span> Photosystem (PSII/PSI)</span>
              <span class="legend-item"><span class="legend-swatch electron"></span> Electron</span>
              <span class="legend-item"><span class="legend-swatch proton">H+</span> Hydrogen ion</span>
              <span class="legend-item"><span class="legend-swatch bubble"></span> Oxygen bubble</span>
              <span class="legend-item"><span class="legend-swatch atp">ATP</span> ATP token</span>
              <span class="legend-item"><span class="legend-swatch nadph">NAD</span> NADPH token</span>
              <span class="legend-item"><span class="legend-swatch co2">CO₂</span> Carbon dioxide</span>
              <span class="legend-item"><span class="legend-swatch g3p">G3P</span> G3P token</span>
            </div>
          </div>

          <canvas id="animationCanvas" width="760" height="420"></canvas>
        </div>
      </section>

      <section id="reviewView" class="panel page-view hidden" aria-label="Review sequencing page">
        <div class="view-head">
          <h2 id="reviewPhaseTitle">Review: Light-Dependent Reactions</h2>
          <div class="phase-tabs" role="tablist" aria-label="Review cycle">
            <button id="reviewLightBtn" class="phase-tab active" type="button">Light-Dependent</button>
            <button id="reviewCalvinBtn" class="phase-tab" type="button">Calvin Cycle</button>
          </div>
        </div>

        <p id="reviewHint" class="phase-hint"></p>

        <div class="workspace">
          <div>
            <h3>Card Bank</h3>
            <div id="cardBank" class="card-bank" aria-label="Unplaced cards"></div>
          </div>

          <div>
            <h3>Sequence Slots</h3>
            <ol id="slotList" class="slot-list" aria-label="Sequence slots"></ol>
          </div>
        </div>

        <div class="review-actions">
          <button id="checkBtn" type="button">Check Order</button>
          <button id="reviewReplayBtn" type="button" disabled>Replay Full Cycle</button>
          <button id="reviewNextCycleBtn" type="button" hidden>Start Calvin Cycle Review</button>
          <button id="resetPhaseBtn" type="button">Reset This Cycle</button>
          <button id="goToLearnBtn" type="button">Back To Learn</button>
        </div>

        <div id="feedback" class="feedback" role="status" aria-live="polite"></div>
      </section>
    </main>

    <script src="app.js"></script>
  </body>
</html>
